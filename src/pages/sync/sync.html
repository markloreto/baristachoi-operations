<!--
  Generated template for the SyncPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <my-header title="Synchronize" headerColor="primary" [menuEnable]="false"></my-header>
  <ion-toolbar color="secondary">
    <ion-buttons right>
      <button large style="background-color: transparent" [disabled]="myFunctionProvider.synching" color="secondary" (click)="syncNow()" icon-start>
        <ion-icon name="sync"></ion-icon>{{(myFunctionProvider.synching) ? "Synching..." : "Start"}}</button>
    </ion-buttons>
    <ion-buttons left>
      <ion-item style="background: transparent !important">
        <ion-label>Pull All</ion-label>
        <ion-checkbox color="primary" checked="false" style="margin: 0px 0px 0px 0px !important" [(ngModel)]="all" (ionChange)="pullAllChange()"></ion-checkbox>
      </ion-item>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content>
  <div class="col-md-6 col-xl-3" style="margin-top: 2em">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-cloud-refresh bg-c-yellow card1-icon"></i>
        <span class="text-c-yellow f-w-600">Last Successfull Sync</span>
        <h4>{{lastSync}}</h4>
        <div>
          <span class="f-left m-t-10 text-muted">
            <i class="text-c-yellow f-16 icofont icofont-refresh m-r-10"></i>{{(lastSync) ? diffDays() : 'No Successful Sync Yet, Give it a try!'}}
          </span>
        </div>
      </div>
    </div>
  </div>
  <ion-card>
    <ion-list>
      <ion-item *ngFor="let progressBar of progressBars.slice().reverse()">
        <ion-icon style="font-size: 3em !important" [name]="progressBar.icon" item-start color="primary"></ion-icon>
        <div>
          <div style="text-align: center">
            {{progressBar.table}}
          </div>
          <progress-bar [progress]="progressBar.percent" [color-degraded]="{'0': '#86E4AE',  '10': '#7EE2A8', '20': '#76e0a3', '30': '#6dde9d', '40': '#65dc98', '50': '#5dda92', '60': '#54d98c', '70': '#4cd787', '80': '#44d581', '90': '#3bd37c', '100': '#33d176'}"></progress-bar>
        </div>
      </ion-item>
    </ion-list>
  </ion-card>

</ion-content>
